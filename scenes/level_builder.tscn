[gd_scene load_steps=27 format=4 uid="uid://b48my00oe5b5y"]

[ext_resource type="Script" uid="uid://dwbs88y6ibdl2" path="res://scripts/level_builder.gd" id="1_77rll"]
[ext_resource type="Texture2D" uid="uid://wi6e3alnmqh0" path="res://sprites/main.png" id="2_yyvap"]
[ext_resource type="Script" uid="uid://2s3twniveswm" path="res://scripts/levels/object_switch.gd" id="4_6t8vq"]
[ext_resource type="PackedScene" uid="uid://cvgknv5hx4uwm" path="res://scenes/level_objects/item_box.tscn" id="4_jfcp0"]
[ext_resource type="Script" uid="uid://kn57yj25jwiy" path="res://scripts/levels/saved_level_object.gd" id="5_1jlcl"]
[ext_resource type="PackedScene" uid="uid://epbopmmrox4j" path="res://scenes/level_objects/object_switch.tscn" id="5_jfcp0"]
[ext_resource type="Resource" uid="uid://c0p0fb7uoe6l8" path="res://resources/default_loot_box.tres" id="7_6t8vq"]
[ext_resource type="Script" uid="uid://5p3w835j81ec" path="res://scripts/item_box.gd" id="8_3mwv5"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_tlwt5"]
friction = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fj7yv"]
texture = ExtResource("2_yyvap")
texture_region_size = Vector2i(8, 8)
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, 4, -4, 4, -4, -4, 4, -4)
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, -4, 4, 4, -4, 4)
9:2/0 = 0
9:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
9:1/0 = 0
9:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
10:1/0 = 0
10:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
11:1/0 = 0
11:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
11:2/0 = 0
11:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
10:2/0 = 0
10:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
9:0/0 = 0
9:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
10:0/0 = 0
10:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
11:0/0 = 0
11:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
8:0/0 = 0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, 4, -4, 4, -4, -4)
8:1/0 = 0
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, -4, 4)
7:1/0 = 0
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4)

[sub_resource type="TileSet" id="TileSet_tlwt5"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 0
physics_layer_0/collision_mask = 0
physics_layer_0/physics_material = SubResource("PhysicsMaterial_tlwt5")
sources/0 = SubResource("TileSetAtlasSource_fj7yv")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cbp6q"]
texture = ExtResource("2_yyvap")
texture_region_size = Vector2i(8, 8)
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
11:4/0 = 0
11:5/0 = 0
10:5/0 = 0
9:5/0 = 0
9:4/0 = 0
10:4/0 = 0
8:4/0 = 0
7:4/0 = 0

[sub_resource type="TileSet" id="TileSet_cbp6q"]
tile_size = Vector2i(8, 8)
sources/0 = SubResource("TileSetAtlasSource_cbp6q")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_yyvap"]
texture = ExtResource("2_yyvap")
texture_region_size = Vector2i(8, 8)
13:0/0 = 0
13:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, 0, 4, 0, 4, 4, -4, 4)
12:1/0 = 0
12:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -4, 4, -4, 4, 4, 0, 4)
13:1/0 = 0
13:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-2, -2, 2, -2, 2, 2, -2, 2)
14:1/0 = 0
14:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 0, -4, 0, 4, -4, 4)
13:2/0 = 0
13:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 0, -4, 0)

[sub_resource type="TileSet" id="TileSet_yyvap"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 16
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_yyvap")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6t8vq"]
size = Vector2(8, 240)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3mwv5"]
size = Vector2(16, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6oya5"]
size = Vector2(16, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kgwc4"]
size = Vector2(16, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wsgmr"]
size = Vector2(8, 240)

[sub_resource type="Resource" id="Resource_fecl5"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(-43, -81)
local_properties = {
"loot_table": ExtResource("7_6t8vq")
}

[sub_resource type="Resource" id="Resource_o2n8g"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(43, -81)
local_properties = {
"loot_table": ExtResource("7_6t8vq")
}

[sub_resource type="Resource" id="Resource_hqrxa"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(43, -164)
local_properties = {
"loot_table": ExtResource("7_6t8vq")
}

[sub_resource type="Resource" id="Resource_06b6l"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(-42, -164)
local_properties = {
"loot_table": ExtResource("7_6t8vq")
}

[sub_resource type="Resource" id="Resource_ixgsu"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(0, -165)
local_properties = {
"loot_table": ExtResource("7_6t8vq")
}

[sub_resource type="Resource" id="Resource_hu58f"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(0, -80)
local_properties = {
"loot_table": ExtResource("7_6t8vq")
}

[node name="LevelBuilder" type="Node2D"]
script = ExtResource("1_77rll")
_save_level_name = "minimal_spikes"
_save_path = "res://levels/level_4/"
_load_level_name = "minimal_spikes"
_load_path = "res://levels/level_4/"
_minimum_difficulty = 4

[node name="Ground" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD5//z/AAALAAEAAAD5//3/AAALAAEAAAD5//7/AAALAAEAAAD5////AAALAAEAAAAGAPz/AAAJAAEAAAAGAP3/AAAJAAEAAAAGAP7/AAAJAAEAAAAGAP//AAAJAAEAAAAGAPv/AAAJAAEAAAD5//v/AAALAAEAAAAGAPr/AAAJAAEAAAAGAPT/AAAJAAEAAAAGAPP/AAAJAAEAAAAGAPL/AAAJAAEAAAAGAPH/AAAJAAEAAAAGAPD/AAAJAAEAAAAGAO//AAAJAAEAAAAGAO7/AAAJAAEAAAD5/+z/AAALAAEAAAD5/+3/AAALAAEAAAD5/+7/AAALAAEAAAD5//T/AAALAAEAAAD5//X/AAALAAEAAAD5//b/AAALAAEAAAD5//f/AAALAAEAAAD5//j/AAALAAEAAAD5//n/AAALAAEAAAD5//r/AAALAAEAAAAGAPX/AAAJAAEAAAAGAPb/AAAJAAEAAAAGAPf/AAAJAAEAAAAGAPj/AAAJAAEAAAAGAPn/AAAJAAEAAAAGAOz/AAAJAAEAAAAGAO3/AAAJAAEAAAD5/+//AAALAAEAAAD5//D/AAALAAEAAAD5//H/AAALAAEAAAD5//L/AAALAAEAAAD5//P/AAALAAEAAAAAAPv/AAALAAIAAAD///v/AAAJAAIAAAD///r/AAAJAAAAAAAAAPr/AAALAAAAAAAAAPH/AAALAAIAAAD///H/AAAJAAIAAAD///D/AAAJAAAAAAAAAPD/AAALAAAAAAD5/+L/AAALAAEAAAD5/+P/AAALAAEAAAD5/+T/AAALAAEAAAD5/+X/AAALAAEAAAD5/+b/AAALAAEAAAD5/+f/AAALAAEAAAD5/+j/AAALAAEAAAD5/+n/AAALAAEAAAD5/+r/AAALAAEAAAD5/+v/AAALAAEAAAAGAOv/AAAJAAEAAAAGAOr/AAAJAAEAAAAGAOn/AAAJAAEAAAAGAOj/AAAJAAEAAAAGAOf/AAAJAAEAAAAGAOb/AAAJAAEAAAAGAOX/AAAJAAEAAAAGAOT/AAAJAAEAAAAGAOP/AAAJAAEAAAAGAOL/AAAJAAEAAAD//+b/AAAJAAAAAAAAAOb/AAALAAAAAAD//+f/AAAJAAIAAAAAAOf/AAALAAIAAAA=")
tile_set = SubResource("TileSet_tlwt5")

[node name="Slip" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_cbp6q")

[node name="Spikes" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD6//P/AAAOAAEAAAD6//L/AAAOAAEAAAD6//H/AAAOAAEAAAD6//D/AAAOAAEAAAD6/+//AAAOAAEAAAD6/+7/AAAOAAEAAAD6//j/AAAOAAEAAAD6//n/AAAOAAEAAAD6//r/AAAOAAEAAAD6//v/AAAOAAEAAAD6//z/AAAOAAEAAAD6//3/AAAOAAEAAAAFAP3/AAAMAAEAAAAFAPz/AAAMAAEAAAAFAPv/AAAMAAEAAAAFAPr/AAAMAAEAAAAFAPn/AAAMAAEAAAAFAPj/AAAMAAEAAAAFAPP/AAAMAAEAAAAFAPL/AAAMAAEAAAAFAPH/AAAMAAEAAAAFAPD/AAAMAAEAAAAFAO//AAAMAAEAAAAFAO7/AAAMAAEAAAAFAOn/AAAMAAEAAAAFAOj/AAAMAAEAAAAFAOf/AAAMAAEAAAAFAOb/AAAMAAEAAAAFAOX/AAAMAAEAAAAFAOT/AAAMAAEAAAD6/+n/AAAOAAEAAAD6/+j/AAAOAAEAAAD6/+f/AAAOAAEAAAD6/+b/AAAOAAEAAAD6/+X/AAAOAAEAAAD6/+T/AAAOAAEAAAD//+X/AAANAAAAAAAAAOX/AAANAAAAAAD//+//AAANAAAAAAAAAO//AAANAAAAAAD///n/AAANAAAAAAAAAPn/AAANAAAAAAA=")
tile_set = SubResource("TileSet_yyvap")

[node name="GroundCollider" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D3" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(-52, -120)
shape = SubResource("RectangleShape2D_6t8vq")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(0, -200)
shape = SubResource("RectangleShape2D_3mwv5")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(0, -120)
shape = SubResource("RectangleShape2D_6oya5")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(0, -40)
shape = SubResource("RectangleShape2D_kgwc4")

[node name="CollisionShape2D9" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(52, -120)
shape = SubResource("RectangleShape2D_wsgmr")

[node name="ObjectSwitch" type="Node2D" parent="." instance=ExtResource("5_jfcp0")]
script = ExtResource("4_6t8vq")
min_objects = 1
max_objects = 1
objects = Array[ExtResource("5_1jlcl")]([SubResource("Resource_fecl5"), SubResource("Resource_o2n8g"), SubResource("Resource_hqrxa"), SubResource("Resource_06b6l"), SubResource("Resource_ixgsu"), SubResource("Resource_hu58f")])
packed_scene_path = "res://scenes/level_objects/object_switch.tscn"

[node name="ItemBox" type="Node2D" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(-43, -81)
script = ExtResource("8_3mwv5")
loot_table = ExtResource("7_6t8vq")
packed_scene_path = "res://scenes/level_objects/item_box.tscn"

[node name="@Node2D@44943" type="Node2D" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(43, -81)
script = ExtResource("8_3mwv5")
loot_table = ExtResource("7_6t8vq")
packed_scene_path = "res://scenes/level_objects/item_box.tscn"

[node name="@Node2D@44944" type="Node2D" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(43, -164)
script = ExtResource("8_3mwv5")
loot_table = ExtResource("7_6t8vq")
packed_scene_path = "res://scenes/level_objects/item_box.tscn"

[node name="@Node2D@44945" type="Node2D" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(-42, -164)
script = ExtResource("8_3mwv5")
loot_table = ExtResource("7_6t8vq")
packed_scene_path = "res://scenes/level_objects/item_box.tscn"

[node name="@Node2D@44946" type="Node2D" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(0, -165)
script = ExtResource("8_3mwv5")
loot_table = ExtResource("7_6t8vq")
packed_scene_path = "res://scenes/level_objects/item_box.tscn"

[node name="@Node2D@44947" type="Node2D" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(0, -80)
script = ExtResource("8_3mwv5")
loot_table = ExtResource("7_6t8vq")
packed_scene_path = "res://scenes/level_objects/item_box.tscn"
