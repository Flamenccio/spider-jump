[gd_scene load_steps=30 format=4 uid="uid://b48my00oe5b5y"]

[ext_resource type="Script" uid="uid://dwbs88y6ibdl2" path="res://scenes/level_builder.gd" id="1_77rll"]
[ext_resource type="Texture2D" uid="uid://wi6e3alnmqh0" path="res://sprites/main.png" id="2_yyvap"]
[ext_resource type="Script" uid="uid://smn5kvfq55gk" path="res://tilemap_baker/TilemapCollisionBaker.gd" id="3_stfbr"]
[ext_resource type="PackedScene" uid="uid://cvgknv5hx4uwm" path="res://scenes/level_objects/item_box.tscn" id="4_jfcp0"]
[ext_resource type="PackedScene" uid="uid://epbopmmrox4j" path="res://scenes/level_objects/object_switch.tscn" id="4_kkt7t"]
[ext_resource type="Script" uid="uid://kn57yj25jwiy" path="res://scripts/levels/saved_level_object.gd" id="5_1jlcl"]
[ext_resource type="Script" uid="uid://bc3fsl7qhsokp" path="res://scripts/item_box_loot.gd" id="6_3ai4d"]
[ext_resource type="PackedScene" uid="uid://xhkwm2kavftk" path="res://scenes/level_objects/yummy_fly.tscn" id="14_8mahg"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_tlwt5"]
friction = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fj7yv"]
texture = ExtResource("2_yyvap")
texture_region_size = Vector2i(8, 8)
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, 4, -4, 4, -4, -4, 4, -4)
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, -4, 4, 4, -4, 4)
9:2/0 = 0
9:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
9:1/0 = 0
9:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
10:1/0 = 0
10:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
11:1/0 = 0
11:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
11:2/0 = 0
11:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
10:2/0 = 0
10:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
9:0/0 = 0
9:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
10:0/0 = 0
10:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
11:0/0 = 0
11:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
8:0/0 = 0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(4, 4, -4, 4, -4, -4)
8:1/0 = 0
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, -4, 4)
7:1/0 = 0
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4)

[sub_resource type="TileSet" id="TileSet_tlwt5"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 0
physics_layer_0/collision_mask = 0
physics_layer_0/physics_material = SubResource("PhysicsMaterial_tlwt5")
sources/0 = SubResource("TileSetAtlasSource_fj7yv")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cbp6q"]
texture = ExtResource("2_yyvap")
texture_region_size = Vector2i(8, 8)
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
11:4/0 = 0
11:5/0 = 0
10:5/0 = 0
9:5/0 = 0
9:4/0 = 0
10:4/0 = 0
8:4/0 = 0
7:4/0 = 0

[sub_resource type="TileSet" id="TileSet_cbp6q"]
tile_size = Vector2i(8, 8)
sources/0 = SubResource("TileSetAtlasSource_cbp6q")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6oya5"]
size = Vector2(8, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kgwc4"]
size = Vector2(8, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wsgmr"]
size = Vector2(32, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ym25h"]
size = Vector2(32, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1f303"]
size = Vector2(8, 136)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1jlcl"]
size = Vector2(8, 136)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3ai4d"]
size = Vector2(32, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_stfbr"]
size = Vector2(32, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u7ovu"]
size = Vector2(8, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_huyus"]
size = Vector2(8, 32)

[sub_resource type="Resource" id="Resource_e63n5"]
script = ExtResource("6_3ai4d")
loot_chance = 0.5
minimum_level = 0
metadata/_custom_type_script = "uid://bc3fsl7qhsokp"

[sub_resource type="Resource" id="Resource_hr72n"]
script = ExtResource("6_3ai4d")
loot_scene = ExtResource("14_8mahg")
loot_chance = 0.5
minimum_level = 0
metadata/_custom_type_script = "uid://bc3fsl7qhsokp"

[sub_resource type="Resource" id="Resource_utrws"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(-33, -17)
local_rotation = 0.0
local_properties = {
"loot_table": Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])
}

[sub_resource type="Resource" id="Resource_ypd8l"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(32, -17)
local_rotation = 0.0
local_properties = {
"loot_table": Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])
}

[sub_resource type="Resource" id="Resource_tr6iu"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(32, -200)
local_rotation = 0.0
local_properties = {
"loot_table": Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])
}

[sub_resource type="Resource" id="Resource_23qir"]
script = ExtResource("5_1jlcl")
packed_scene = ExtResource("4_jfcp0")
local_position = Vector2(-34, -200)
local_rotation = 0.0
local_properties = {
"loot_table": Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])
}

[node name="LevelBuilder" type="Node2D"]
script = ExtResource("1_77rll")
_save_level_name = "choke"
_save_path = "res://levels/"
_load_level_name = "choke"
_load_path = "res://levels/"

[node name="Ground" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD5//z/AAALAAEAAAD5//3/AAALAAEAAAD5//7/AAALAAEAAAD5////AAALAAEAAAAGAPz/AAAJAAEAAAAGAP3/AAAJAAEAAAAGAP7/AAAJAAEAAAAGAP//AAAJAAEAAAD5/+X/AAALAAEAAAD5/+b/AAALAAEAAAD5/+f/AAALAAEAAAD5/+j/AAALAAEAAAAGAOj/AAAJAAEAAAAGAOf/AAAJAAEAAAAGAOb/AAAJAAEAAAAGAOX/AAAJAAEAAAD9//r/AAALAAIAAAD9//n/AAALAAEAAAD9//j/AAALAAEAAAD9//f/AAALAAEAAAD9//b/AAALAAEAAAD9//X/AAALAAEAAAD9//T/AAALAAEAAAD9//P/AAALAAEAAAD9//L/AAALAAEAAAD9//H/AAALAAEAAAD9//D/AAALAAEAAAD9/+//AAALAAEAAAD9/+7/AAALAAEAAAD9/+3/AAALAAEAAAD9/+z/AAALAAEAAAD9/+v/AAALAAEAAAD9/+r/AAALAAAAAAACAPr/AAAJAAIAAAACAPn/AAAJAAEAAAACAPj/AAAJAAEAAAACAPf/AAAJAAEAAAACAPb/AAAJAAEAAAACAPX/AAAJAAEAAAACAPT/AAAJAAEAAAACAPP/AAAJAAEAAAACAPL/AAAJAAEAAAACAPH/AAAJAAEAAAACAPD/AAAJAAEAAAACAO//AAAJAAEAAAACAO7/AAAJAAEAAAACAO3/AAAJAAEAAAACAOz/AAAJAAEAAAACAOv/AAAJAAEAAAACAOr/AAAJAAAAAAAEAOn/AAAKAAAAAAADAOn/AAAJAAAAAAAFAOn/AAAKAAAAAAADAPv/AAAJAAIAAAAEAPv/AAAKAAIAAAAFAPv/AAAKAAIAAAD8//v/AAALAAIAAAD7//v/AAAKAAIAAAD6//v/AAAKAAIAAAD8/+n/AAALAAAAAAD7/+n/AAAKAAAAAAD6/+n/AAAKAAAAAAAGAOn/AAAKAAEAAAAGAPv/AAAKAAEAAAD5//v/AAAKAAEAAAD5/+n/AAAKAAEAAAA=")
tile_set = SubResource("TileSet_tlwt5")

[node name="Slip" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_cbp6q")

[node name="GroundCollider" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 0
script = ExtResource("3_stfbr")
tilemaplayers_nodepaths = Array[NodePath]([NodePath("../Ground")])

[node name="CollisionShape2D3" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(-52, -200)
shape = SubResource("RectangleShape2D_6oya5")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(-52, -16)
shape = SubResource("RectangleShape2D_kgwc4")

[node name="CollisionShape2D13" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(-40, -180)
shape = SubResource("RectangleShape2D_wsgmr")

[node name="CollisionShape2D14" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(-40, -36)
shape = SubResource("RectangleShape2D_ym25h")

[node name="CollisionShape2D15" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(-20, -108)
shape = SubResource("RectangleShape2D_1f303")

[node name="CollisionShape2D16" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(20, -108)
shape = SubResource("RectangleShape2D_1jlcl")

[node name="CollisionShape2D17" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(40, -180)
shape = SubResource("RectangleShape2D_3ai4d")

[node name="CollisionShape2D18" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(40, -36)
shape = SubResource("RectangleShape2D_stfbr")

[node name="CollisionShape2D19" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(52, -200)
shape = SubResource("RectangleShape2D_u7ovu")

[node name="CollisionShape2D20" type="CollisionShape2D" parent="GroundCollider"]
position = Vector2(52, -16)
shape = SubResource("RectangleShape2D_huyus")

[node name="ObjectSwitch" parent="." instance=ExtResource("4_kkt7t")]
objects = Array[ExtResource("5_1jlcl")]([SubResource("Resource_utrws"), SubResource("Resource_ypd8l"), SubResource("Resource_tr6iu"), SubResource("Resource_23qir")])

[node name="ItemBox" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(-33, -17)
loot_table = Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])

[node name="@Node2D@57277" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(32, -17)
loot_table = Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])

[node name="@Node2D@57278" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(32, -200)
loot_table = Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])

[node name="@Node2D@57279" parent="ObjectSwitch" instance=ExtResource("4_jfcp0")]
position = Vector2(-34, -200)
loot_table = Array[ExtResource("6_3ai4d")]([SubResource("Resource_e63n5"), SubResource("Resource_hr72n")])
